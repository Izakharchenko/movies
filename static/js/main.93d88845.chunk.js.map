{"version":3,"sources":["services/movie-service.js","components/MovieItem.jsx","components/navbar/index.jsx","components/navbar/navbar.jsx","components/pagination/index.jsx","components/pagination/pagination.jsx","components/App.jsx","index.js"],"names":["API_URL","API_KEY_3","MovieItem","state","wishlist","onToggleWishListAdded","movie","_this","setState","props","addToWishList","onToggleAnWatch","removeFromWishList","_this2","this","_this$props","_this$props$movie","title","backdrop_path","poster_path","vote_average","removeMovie","toggleButton","react_default","a","createElement","type","className","onClick","pathToImage","poster","src","concat","alt","Component","Navbar","onToggleActive","e","value","target","onChangeSort","nextProps","nextState","sortBy","tabs","label","map","item","activeButton","classNames","btn-primary","key","href","Pagination","onClickNextPage","nextPage","onClickPrevPage","prevPage","classnames"," disabled","currentPage","pageLinkDisabled","nextPageDisabled","totalPages","prevPageLinkDisabled","aria-label","tabIndex","App","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","updateMovie","movies","filter","element","id","newWishList","wishlistMovies","film","_ref","toConsumableArray","getData","_this$state","page","fetch","then","response","json","data","results","total_pages","catch","console","log","prevProps","prevState","_this$state2","countWishlistMovies","length","wishFilms","el","films","MovieItem_MovieItem","navbar","pagination","ReactDOM","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.93d88845.chunk.js","sourcesContent":["export const API_URL = '//api.themoviedb.org/3';\n\nexport const API_KEY_3 = '3f4ca4f3a9750da53450646ced312397';\n\nexport const API_KEY_4 =\n  'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZjRjYTRmM2E5NzUwZGE1MzQ1MDY0NmNlZDMxMjM5NyIsInN1YiI6IjVhYzlmNWRkOTI1MTQxNjJhZTA1Njk0NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Fc4f9DVB6pFWh6hIjYe0NCC4pImdmNzDIfi_3Nb3tC4';\n","import React, { Component } from 'react';\n\nexport default class MovieItem extends Component {\n  state = {\n    wishlist: false,\n  };\n  onToggleWishListAdded = (movie) => {\n    this.setState({ wishlist: true });\n    this.props.addToWishList(movie);\n  };\n\n  onToggleAnWatch = (movie) => {\n    this.setState({ wishlist: false });\n    this.props.removeFromWishList(movie);\n  };\n\n  render() {\n    const {\n      movie,\n      movie: { title, backdrop_path, poster_path, vote_average },\n      removeMovie,\n    } = this.props;\n\n    const toggleButton = this.state.wishlist ? (\n      <button\n        type=\"button\"\n        className=\"btn btn-outline-secondary\"\n        onClick={() => this.onToggleAnWatch(movie)}\n      >\n        remove\n      </button>\n    ) : (\n      <button\n        type=\"button\"\n        className=\"btn btn-outline-success\"\n        onClick={() => this.onToggleWishListAdded(movie)}\n      >\n        Add to list\n      </button>\n    );\n    let pathToImage = 'https://image.tmdb.org/t/p/w500';\n    const poster = backdrop_path || poster_path || './no-poster.png';\n    if (poster === './no-poster.png') {\n      pathToImage = '';\n    }\n    return (\n      <div className=\"card\">\n        <img\n          className=\"card-img-top\"\n          src={`${pathToImage}${poster}`}\n          alt={title}\n        />\n        <div className=\"card-body\">\n          <h6 className=\"card-title\">{title}</h6>\n          <div className=\"d-flex justify-content-between align-items-center\">\n            <p className=\"mb-1\">Rating: {vote_average}</p>\n          </div>\n          <div className=\"d-flex justify-content-between\">\n            {toggleButton}\n            <button\n              type=\"button\"\n              className=\"btn btn-outline-danger\"\n              onClick={() => removeMovie(movie)}\n            >\n              Delete\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import Navbar from './navbar';\n\nexport default Navbar;\n","import React, { Component } from 'react';\nimport classNames from 'classnames';\n\nexport default class Navbar extends Component {\n  shouldComponentUpdate(nextProps, nextState) {\n    if (this.props.sortBy !== nextProps.sortBy) {\n      return true;\n    }\n    return false;\n  }\n\n  onToggleActive = (e) => {\n    const value = e.target.value;\n    this.props.onChangeSort(value);\n  };\n\n  render() {\n    const links = [\n      {\n        label: 'Popularity',\n        value: 'popularity.desc',\n      },\n      {\n        label: 'Revenue',\n        value: 'revenue.desc',\n      },\n      {\n        label: 'Average',\n        value: 'vote_average.desc',\n      },\n    ];\n\n    const tabs = links.map((item) => {\n      const activeButton = classNames('btn', {\n        'btn-primary': this.props.sortBy === item.value,\n      });\n      return (\n        <button\n          className={activeButton}\n          type=\"button\"\n          key={item.label}\n          onClick={(e) => this.onToggleActive(e)}\n          value={item.value}\n        >\n          {item.label}\n        </button>\n      );\n    });\n\n    return (\n      <div className=\"container\">\n        <nav className=\"navbar navbar-expand-lg navbar-light bg-light mb-3\">\n          <a className=\"navbar-brand\" href=\"/\">\n            Movie DB\n          </a>\n          <div className=\"navbar-nav\">{tabs}</div>\n        </nav>\n      </div>\n    );\n  }\n}\n","import Pagination from './pagination';\nexport default Pagination;\n","import React, { Component } from 'react';\nimport classNames from 'classnames';\n// page 1\n// total Pages 500\n\nexport default class Pagination extends Component {\n  onClickNextPage = () => {\n    this.props.nextPage();\n  };\n\n  onClickPrevPage = () => {\n    this.props.prevPage();\n  };\n\n  render() {\n    const classnames = classNames('page-item', {\n      ' disabled': this.props.currentPage === 1,\n    });\n    const pageLinkDisabled = classNames('page-link', {\n      ' disabled': this.props.currentPage === 1,\n    });\n    const nextPageDisabled = classNames('page-item', {\n      ' disabled': this.props.currentPage === this.props.totalPages,\n    });\n    const prevPageLinkDisabled = classNames('page-link', {\n      ' disabled': this.props.currentPage === this.props.totalPages,\n    });\n    return (\n      <nav aria-label=\"...\">\n        <ul className=\"pagination justify-content-center\">\n          <li className={classnames}>\n            <a\n              className={pageLinkDisabled}\n              href=\"#prev\"\n              tabIndex=\"-1\"\n              onClick={() => this.onClickPrevPage()}\n            >\n              Previous\n            </a>\n          </li>\n          <li className=\"page-item disabled\">\n            <a className=\"page-link disabled\" href=\"#2\">\n              {this.props.currentPage} of {this.props.totalPages}\n              <span className=\"sr-only\">(current)</span>\n            </a>\n          </li>\n          <li className={nextPageDisabled}>\n            <a\n              className={prevPageLinkDisabled}\n              href=\"#next\"\n              onClick={() => this.onClickNextPage()}\n            >\n              Next\n            </a>\n          </li>\n        </ul>\n      </nav>\n    );\n  }\n}\n","import React, { Component } from 'react';\n// import moviesData from '../moviesData';\nimport { API_URL, API_KEY_3 } from '../services/movie-service';\nimport MovieItem from './MovieItem';\nimport Navbar from './navbar';\nimport Pagination from './pagination';\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      movies: [],\n      page: 1,\n      total_pages: 1,\n      wishlistMovies: [],\n      sortBy: 'popularity.desc',\n    };\n  }\n\n  removeMovie = (item) => {\n    const updateMovie = this.state.movies.filter(function(element) {\n      return element.id !== item.id;\n    });\n    this.setState({\n      movies: updateMovie,\n    });\n  };\n  removeFromWishList = (item) => {\n    const newWishList = this.state.wishlistMovies.filter(function(element) {\n      return element.id !== item.id;\n    });\n    this.setState({\n      wishlistMovies: newWishList,\n    });\n  };\n\n  addToWishList = (film) => {\n    this.setState(({ wishlistMovies }) => {\n      return {\n        wishlistMovies: [film, ...wishlistMovies],\n      };\n    });\n  };\n\n  componentDidMount() {\n    this.getData();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.sortBy !== prevState.sortBy) {\n      this.getData();\n    }\n    if (this.state.page !== prevState.page) {\n      this.getData();\n    }\n  }\n\n  getData = () => {\n    const { sortBy, page } = this.state;\n\n    fetch(\n      `${API_URL}/discover/movie/?api_key=${API_KEY_3}&sort_by=${sortBy}&page=${page}`,\n    )\n      .then((response) => response.json())\n      .then((data) => {\n        this.setState({\n          movies: data.results,\n          page: data.page,\n          totalPages: data.total_pages,\n        });\n      })\n      .catch((e) => console.log(e));\n  };\n\n  onChangeSort = (value) => {\n    this.setState({\n      sortBy: value,\n    });\n  };\n\n  nextPage = () => {\n    this.setState({ page: this.state.page + 1 });\n  };\n\n  prevPage = () => {\n    this.setState({ page: this.state.page - 1 });\n  };\n\n  render() {\n    const { movies, wishlistMovies, sortBy, page, totalPages } = this.state;\n    const countWishlistMovies = wishlistMovies.length;\n\n    const wishFilms = wishlistMovies.map((el) => {\n      return (\n        <li\n          className=\"\n          list-group-item\n          d-flex\n          justify-content-between\n          align-items-center\"\n          key={el.id}\n        >\n          {el.title}\n          <span className=\"badge badge-primary badge-pill\">\n            {el.vote_average}\n          </span>\n        </li>\n      );\n    });\n\n    const films = movies.map((element) => {\n      return (\n        <div className=\"col-sm-12 col-md-6 col-lg-6 mb-3\" key={element.id}>\n          <MovieItem\n            movie={element}\n            removeMovie={this.removeMovie}\n            addToWishList={this.addToWishList}\n            removeFromWishList={this.removeFromWishList}\n          />\n        </div>\n      );\n    });\n\n    return (\n      <div className=\"application\">\n        <Navbar sortBy={sortBy} onChangeSort={this.onChangeSort} />\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-sm-12 col-md-3 col-lg-3\">\n              <h4>Will Watch: {countWishlistMovies}</h4>\n              <ul className=\"list-group mb-3\">\n                <ul className=\"list-group\">{wishFilms}</ul>\n              </ul>\n            </div>\n            <div className=\"col-sm-12 col-md-9 col-lg-9\">\n              <div className=\"row\">{films}</div>\n              <Pagination\n                currentPage={page}\n                totalPages={totalPages}\n                nextPage={this.nextPage}\n                prevPage={this.prevPage}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}